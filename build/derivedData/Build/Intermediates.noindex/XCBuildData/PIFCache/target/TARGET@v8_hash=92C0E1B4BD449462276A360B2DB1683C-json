{"buildConfigurations":[{"buildSettings":{"ASSETCATALOG_COMPILER_APPICON_NAME":"AppIcon","CODE_SIGN_IDENTITY":"iPhone Developer","CODE_SIGN_STYLE":"Manual","DEVELOPMENT_TEAM":"4DK6QLK2RE","INFOPLIST_FILE":"Jenkins/Info.plist","LD_RUNPATH_SEARCH_PATHS":"$(inherited) @executable_path/Frameworks","PRODUCT_BUNDLE_IDENTIFIER":"com.postop.Jenkins","PRODUCT_NAME":"$(TARGET_NAME)","PROVISIONING_PROFILE_SPECIFIER":"Jenkins_build_development","TARGETED_DEVICE_FAMILY":"1,2"},"guid":"24618679fe20edd2d6a23a58a118f2ddaa3f3ffd2c18f7216b302e568e65bdf2","name":"Debug"},{"buildSettings":{"ASSETCATALOG_COMPILER_APPICON_NAME":"AppIcon","CODE_SIGN_IDENTITY":"iPhone Distribution","CODE_SIGN_STYLE":"Manual","DEVELOPMENT_TEAM":"4DK6QLK2RE","INFOPLIST_FILE":"Jenkins/Info.plist","LD_RUNPATH_SEARCH_PATHS":"$(inherited) @executable_path/Frameworks","PRODUCT_BUNDLE_IDENTIFIER":"com.postop.Jenkins","PRODUCT_NAME":"$(TARGET_NAME)","PROVISIONING_PROFILE_SPECIFIER":"Jenkins_build_ad-hoc","TARGETED_DEVICE_FAMILY":"1,2"},"guid":"24618679fe20edd2d6a23a58a118f2dd9be59ed31a511f66c7e4c09eb4bf13fd","name":"Release"}],"buildPhases":[{"buildFiles":[{"fileReference":"24618679fe20edd2d6a23a58a118f2ddac050625418f25812720edf88582461b","guid":"24618679fe20edd2d6a23a58a118f2dd643738f725dd377d906d3a621637097b","intentsCodegenFiles":"true"},{"fileReference":"24618679fe20edd2d6a23a58a118f2dd2a0201593ebd811a5168ad2f528dea06","guid":"24618679fe20edd2d6a23a58a118f2ddd5bdb3cd4828820da68c0fb91ab32b79","intentsCodegenFiles":"true"},{"fileReference":"24618679fe20edd2d6a23a58a118f2dda5926714a6a1b95f08cf83fcfbb28fe6","guid":"24618679fe20edd2d6a23a58a118f2ddc25d8e0b9a56a49c6006b5f8f07e874a","intentsCodegenFiles":"true"}],"guid":"24618679fe20edd2d6a23a58a118f2dd3a91bb4a01832fa7cf77a415ef569cec","type":"com.apple.buildphase.sources"},{"buildFiles":[],"guid":"24618679fe20edd2d6a23a58a118f2dd0101b9e79f7e23e18e839c192ce1ee67","type":"com.apple.buildphase.frameworks"},{"buildFiles":[{"fileReference":"24618679fe20edd2d6a23a58a118f2dd660017abe73ab6a10a24ec85ed8ea200","guid":"24618679fe20edd2d6a23a58a118f2dd29c08d75054086b13745149b32ee9a1a","intentsCodegenFiles":"true"},{"fileReference":"24618679fe20edd2d6a23a58a118f2dd0cb90803a3473a2b211e5fb45424b203","guid":"24618679fe20edd2d6a23a58a118f2ddd0b87d9c8fc930d70fb1c08c2c03c24a","intentsCodegenFiles":"true"},{"fileReference":"24618679fe20edd2d6a23a58a118f2dd3a6019d63929fe655fdd4b7ee9c865f2","guid":"24618679fe20edd2d6a23a58a118f2ddc69c213d1218912c4201b697dae7afc1","intentsCodegenFiles":"true"},{"fileReference":"24618679fe20edd2d6a23a58a118f2ddb30f3431a8b64054dbc55a098706b98a","guid":"24618679fe20edd2d6a23a58a118f2dddf74d282928757277a59799c71645f69","intentsCodegenFiles":"true"}],"guid":"24618679fe20edd2d6a23a58a118f2dd6d6ab132232a8f3692851ca03cc558c1","type":"com.apple.buildphase.resources"},{"buildFiles":[],"emitEnvironment":"true","guid":"24618679fe20edd2d6a23a58a118f2dd5a77707a87a440eafdd5b1b70f515127","inputFileListPaths":[],"inputFilePaths":[],"name":"BuildInfo","originalObjectID":"0376AE4922BA3958008D06E6","outputFileListPaths":[],"outputFilePaths":[],"scriptContents":"#if [ \"Release\" == \"${CONFIGURATION}\" ];then\nbuildNumber=$(date +%Y%m%d%H%M%S)\n/usr/libexec/PlistBuddy -c \"Set :CFBundleVersion $buildNumber\" \"$INFOPLIST_FILE\"\n#fi\n\n#最后一次提交的SHA\ngit_sha=$(git rev-parse HEAD)\n\n#当前的分支\ngit_branch=$(git symbolic-ref --short -q HEAD)\n\n#最后一次提交的作者\ngit_last_commit_user=$(git log -1 --pretty=format:'%an')\n\n#最后一次提交的时间\ngit_last_commit_date=$(git log -1 --format='%cd')\n\n#获取App安装包下的info.plist文件路径\ninfo_plist=\"${BUILT_PRODUCTS_DIR}/${EXECUTABLE_FOLDER_PATH}/Info.plist\"\n\n#/usr/libexec/PlistBuddy -c \"Add :GitLastCommitAbbreviatedHash string ${gitLastCommitAbbreviatedHash}\" ${buildInfoPlist}\n/usr/libexec/PlistBuddy -c 'Add :HELLO string hahahah' info.plist\n\n/usr/libexec/PlistBuddy -c \"Set :GitCommitBranch ${git_branch}\" \"$INFOPLIST_FILE\"\n\n#利用PlistBuddy改变info.plist的值\n/usr/libexec/PlistBuddy -c \"Set :'GitCommitSHA'       '${git_sha}'\"                \"${info_plist}\"\n/usr/libexec/PlistBuddy -c \"Set :'GitCommitBranch'    '${git_branch}'\"                 \"${info_plist}\"\n/usr/libexec/PlistBuddy -c \"Set :'GitCommitUser'      ${git_last_commit_user}\"       \"${info_plist}\"\n/usr/libexec/PlistBuddy -c \"Set :'GitCommitDate'      '${git_last_commit_date}'\"       \"${info_plist}\"\n","shellPath":"/bin/sh","type":"com.apple.buildphase.shell-script"}],"buildRules":[],"dependencies":[],"guid":"24618679fe20edd2d6a23a58a118f2ddf9d1b720c4662c4316626353c4df0b1d","name":"Jenkins","predominantSourceCodeLanguage":"Xcode.SourceCodeLanguage.Objective-C","productReference":{"guid":"24618679fe20edd2d6a23a58a118f2ddabafc932202451b69d903b336c61e736","name":"Jenkins.app","type":"product"},"productTypeIdentifier":"com.apple.product-type.application","provisioningSourceData":[{"bundleIdentifierFromInfoPlist":"$(PRODUCT_BUNDLE_IDENTIFIER)","configurationName":"Debug","legacyTeamID":"","provisioningStyle":1},{"bundleIdentifierFromInfoPlist":"$(PRODUCT_BUNDLE_IDENTIFIER)","configurationName":"Release","legacyTeamID":"","provisioningStyle":1}],"type":"standard"}